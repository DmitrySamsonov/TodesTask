<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<!--<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"-->
<!--xmlns:f="http://java.sun.com/jsf/core">-->
<h:head>
    <f:metadata charset="utf-8" name="viewport" content="width=device-width, initial-scale=1"
                http-equiv="X-UA-Conpatible"/>
    <h:outputStylesheet library="css" name="bootstrap.min.css"/>
    <title>JSF JPA Crud Example</title>
    <style type="text/css">
        .tableUpdated {
            width: 70% !important;
            margin: 17px 58px 0 !important;
        }

        .btnSpace {
            margin: 17px;
        }
    </style>
</h:head>
<h:body>
    <center><h2><p:outputLabel value="Persons List"/></h2></center>
    <!--<h:form id="personsForm">-->
        <!--<p:dataTable id="personsTable" value="# -{- personBean.getPersonsList()}" var="person"-->
                     <!--style="width: 80%; position: center; text-align: center;"-->
                     <!--styleClass="employeeTable"-->
                     <!--headerClass="employeeTableHeader"-->
                     <!--rowClasses="employeeTableOddRow,employeeTableEvenRow">-->

            <!--<p:column>-->
                <!--<f:facet name="header">ID</f:facet>-->
                <!--# +{+ person.id}-->
            <!--</p:column>-->

            <!--<p:column>-->
                <!--<f:facet name="header">Name</f:facet>-->
                <!--# +{+ person.name}-->
            <!--</p:column>-->

            <!--<p:column>-->
                <!--<f:facet name="header">Surname</f:facet>-->
                <!--# +{+ person.surname}-->
            <!--</p:column>-->

            <!--<p:column>-->
                <!--<f:facet name="header">Patronymic</f:facet>-->
                <!--# +{+ person.patronymic}-->
            <!--</p:column>-->

            <!--<p:column>-->
                <!--<f:facet name="header">Sex</f:facet>-->
                <!--# +{+ person.sex}-->
            <!--</p:column>-->

            <!--<p:column>-->
                <!--<f:facet name="header">Date</f:facet>-->
                <!--# +{+ person.date}-->
            <!--</p:column>-->

            <!--<p:column>-->
                <!--<f:facet name="header">Edit</f:facet>-->
                <!--<h:commandButton action="# +{+ personBean.editPersonById(person)}" value="Edit"-->
                                 <!--styleClass="btn btn-primary"/>-->
            <!--</p:column>-->

            <!--<p:column>-->
                <!--<f:facet name="header">Delete</f:facet>-->
                <!--<h:commandButton action="# +{+ personBean.deletePersonById()}" value="Delete" styleClass="btn btn-danger">-->
                    <!--<f:param name="PersonId" value="# +{+ person.id}"/>-->
                <!--</h:commandButton>-->
            <!--</p:column>-->
        <!--</p:dataTable>-->
        <!--<h:commandButton value="Add new person" action="pageAddPerson"></h:commandButton>-->
    <!--</h:form>-->





    <h:form id="personsForm">
        <p:dataTable id="personsTable" value="#{personBean.getPersonsList()}" var="obj"
                     style="width: 80%; position: center; text-align: center;"
                     styleClass="employeeTable"
                     headerClass="employeeTableHeader"
                     rowClasses="employeeTableOddRow,employeeTableEvenRow">


                <p:column>
                    <f:facet name="header">ID</f:facet>
                    #{personBean.getPersonObj(obj).id}
                </p:column>

                <p:column>
                    <f:facet name="header">Name</f:facet>
                    #{personBean.getPersonObj(obj).name}
                </p:column>

                <p:column>
                    <f:facet name="header">Surname</f:facet>
                    #{personBean.getPersonObj(obj).surname}
                </p:column>

                <p:column>
                    <f:facet name="header">Patronymic</f:facet>
                    #{personBean.getPersonObj(obj).patronymic}
                </p:column>

                <p:column>
                    <f:facet name="header">Sex</f:facet>
                    #{personBean.getPersonObj(obj).sex}
                </p:column>

            <p:column>
                <f:facet name="header">Date</f:facet>
                #{personBean.getPersonObj(obj).date}
            </p:column>

            <p:column>
                <f:facet name="header">House Number</f:facet>
                #{addressBean.getAddressObj(obj).houseNumber}
            </p:column>

            <p:column>
                <f:facet name="header">StreetCode</f:facet>
                #{addressBean.getAddressObj(obj).streetCode}
            </p:column>

            <p:column>
                <f:facet name="header">Street</f:facet>
                #{addressBean.getStreetNameByCode(obj)}
            </p:column>


        </p:dataTable>
        <h:commandButton value="Add new person" action="pageAddPerson"></h:commandButton>
    </h:form>
















    <h2><p:outputLabel value="Search"/></h2>
    <h:form>
        <div>
            <p>Name</p>
            <h:inputText id="searchName" value="#{personBean.searchName}"></h:inputText>
        </div>
        <div>
            <p>Surname</p>
            <h:inputText id="searchSurname" value="#{personBean.searchSurname}"></h:inputText>
        </div>
        <!--<div>-->
        <!--<p>Street</p>-->
        <!--<h:inputText id = "searchSurname" value = "# { personBean.searchSurname}"></h:inputText>-->
        <!--</div>-->
        <!--<div>-->
        <!--<p>houseNumber</p>-->
        <!--<h:inputText id = "searchSurname" value = "# { personBean.searchSurname}"></h:inputText>-->
        <!--</div>-->

        <f:ajax event="keyup" execute="searchName searchSurname" render="personsForm"/>
    </h:form>

    <h:outputText id="cc" value="#{personBean.method()}"/>


</h:body>
</html>
